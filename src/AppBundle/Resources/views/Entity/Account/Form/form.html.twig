{# src/AppBundle/Resources/views/Entity/Account/Form/form.html.twig #}
{% form_theme form 'AppBundle:Dashboard/Form/Theme:form.html.twig' %}

<form action="{{ form.vars.action }}" method="POST" id="account-form">

    <div class="separator-holder">
        <h2>Общие данные</h2>
    </div>

    {#{% do form.accountGroup.setRendered %}

    {% set accountGroup_set = ( form.accountGroup.vars.data ) ? true : false %}

    <div class="select-holder {{ ( accountGroup_set ) ? 'watch-parent' : null }}">
        <div class="btn-select">
            <a href="#">
                <div class="title-holder">
                    <span class="title">{{ form.accountGroup.vars.label|trans({}, 'forms') }} <span class="required-field">*</span></span>
                    <span class="icon hrd-list"></span>
                </div>
                <span class="text">{{ ( form.accountGroup.vars.data ) ? form.accountGroup.vars.data.name : form.accountGroup.vars.placeholder|trans({}, 'forms') }}</span>
            </a>
        </div>

        {% if accountGroup_set %}
            <div class="btn-view">
                <a href="{{ path('account_group_update', { 'id': form.accountGroup.vars.data.id }) }}" class="icon hrd-view"></a>
            </div>
        {% endif %}

        {% for error in form.accountGroup.vars.errors %}
            <span class="error-holder">{{ error.message }}</span>
        {% endfor %}

        <div class="select-list">
            <div class="outer">
                <div class="inner">
                    <ul>
                        <li class="option-item {{ ( form.accountGroup.vars.data is null ) ? 'active' : null }}" data-option="{{ null }}">
                            <span class="option-name">{{ 'common.choice.empty_value'|trans({}, 'forms') }}</span>
                        </li>
                        {% for accountGroup in form.accountGroup.vars.choices %}
                            <li class="option-item {{ ( form.accountGroup.vars.data ) ? ( form.accountGroup.vars.data.id != accountGroup.value ) ?: 'active' : null }}" data-option="{{ accountGroup.value }}">
                                <span class="option-name">{{ accountGroup.label }}</span>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
        <input type="hidden" name="{{ form.accountGroup.vars.full_name }}" value="{{ ( form.accountGroup.vars.data ) ? form.accountGroup.vars.data.id : null }}">
    </div>#}

    <div class="field-holder">
        {{ form_widget(form.name, { 'id': "account-name" }) }}
        {{ form_label(form.name) }}
        {{ form_errors(form.name) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.percent, { 'id': "account-percent" }) }}
        {{ form_label(form.percent) }}
        {{ form_errors(form.percent) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.mfoOfBankA, { 'id': "account-mfo-of-bank-a" }) }}
        {{ form_label(form.mfoOfBankA) }}
        {{ form_errors(form.mfoOfBankA) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.personalAccountOfBankA, { 'id': "account-personal-account-of-bank-a" }) }}
        {{ form_label(form.personalAccountOfBankA) }}
        {{ form_errors(form.personalAccountOfBankA) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.mfoOfBankB, { 'id': "account-mfo-of-bank-b" }) }}
        {{ form_label(form.mfoOfBankB) }}
        {{ form_errors(form.mfoOfBankB) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.personalAccountOfBankB, { 'id': "account-personal-account-of-bank-b" }) }}
        {{ form_label(form.personalAccountOfBankB) }}
        {{ form_errors(form.personalAccountOfBankB) }}
    </div>

    <div class="field-holder trpl-field">
        <div class="field">
            {{ form_widget(form.debitCreditPaymentFlag, {
                'id': "account-debit-credit-payment-flag"
            }) }}

            <label for="account-debit-credit-payment-flag">
                <span class="radio"></span>
                <span class="text">{{ form.debitCreditPaymentFlag.vars.label|trans({}, 'forms') }}</span>
            </label>
        </div>
    </div>

    <div class="field-holder">
        {{ form_widget(form.paymentAmount, { 'id': "account-payment-amount" }) }}
        {{ form_label(form.paymentAmount) }}
        {{ form_errors(form.paymentAmount) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.paymentDocumentType, { 'id': "account-payment-document-type" }) }}
        {{ form_label(form.paymentDocumentType) }}
        {{ form_errors(form.paymentDocumentType) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.paymentOperationalNumber, { 'id': "account-payment-operational-number" }) }}
        {{ form_label(form.paymentOperationalNumber) }}
        {{ form_errors(form.paymentOperationalNumber) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.paymentCurrency, { 'id': "account-payment-currency" }) }}
        {{ form_label(form.paymentCurrency) }}
        {{ form_errors(form.paymentCurrency) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.paymentDocumentDate, {
            'id': "account-payment-document-date",
            'attr': {
                'data-mask': "00-00-0000"
            }
        }) }}
        {{ form_label(form.paymentDocumentDate) }}
        {{ form_errors(form.paymentDocumentDate) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.paymentDocumentArrivalDateToBankA, {
            'id': "account-payment-document-arrival-date-to-bank-a",
            'attr': {
                'data-mask': "00-00-0000"
            }
        }) }}
        {{ form_label(form.paymentDocumentArrivalDateToBankA) }}
        {{ form_errors(form.paymentDocumentArrivalDateToBankA) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.payerNameOfClientA, { 'id': "account-payer-name-of-client-a" }) }}
        {{ form_label(form.payerNameOfClientA) }}
        {{ form_errors(form.payerNameOfClientA) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.payerNameOfClientB, { 'id': "account-payer-name-of-client-b" }) }}
        {{ form_label(form.payerNameOfClientB) }}
        {{ form_errors(form.payerNameOfClientB) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.paymentDestination, { 'id': "account-payment-destination" }) }}
        {{ form_label(form.paymentDestination) }}
        {{ form_errors(form.paymentDestination) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.supportingProps, { 'id': "account-supporting-props" }) }}
        {{ form_label(form.supportingProps) }}
        {{ form_errors(form.supportingProps) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.paymentDestinationCode, { 'id': "account-payment-destination-code" }) }}
        {{ form_label(form.paymentDestinationCode) }}
        {{ form_errors(form.paymentDestinationCode) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.stringsNumberInBlock, { 'id': "account-strings-number-in-block" }) }}
        {{ form_label(form.stringsNumberInBlock) }}
        {{ form_errors(form.stringsNumberInBlock) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.clientIdentifierA, { 'id': "account-client-identifier-a" }) }}
        {{ form_label(form.clientIdentifierA) }}
        {{ form_errors(form.clientIdentifierA) }}
    </div>

    <div class="field-holder">
        {{ form_widget(form.clientIdentifierB, { 'id': "account-client-identifier-b" }) }}
        {{ form_label(form.clientIdentifierB) }}
        {{ form_errors(form.clientIdentifierB) }}
    </div>

    {{ form_widget(form._token) }}
</form>
